<html>
	<head>
		<script type="text/javascript" src="../js/coverreport.js">

		</script><script type="text/javascript">
			RANGES_318 = [
   [40,9,40,10,'dccv']
, [41,13,41,61,'dccv']
, [42,13,42,46,'dccv']
, [43,9,43,10,'dccv']
, [48,9,48,35,'dccv']
, [49,9,49,10,'dccv']
, [50,13,50,37,'dccv']
, [51,9,51,10,'dccv']
, [59,9,59,89,'dccv']
, [60,9,60,10,'dccv']
, [62,13,62,14,'dccv']
, [63,17,63,44,'dccv']
, [64,17,64,37,'dccv']
, [66,22,66,32,'dccv']
, [67,17,67,18,'dccv']
, [68,21,68,33,'dccv']
, [69,21,69,22,'dccv']
, [70,25,70,53,'dccv']
, [71,21,71,22,'dccv']
, [72,21,72,33,'dccv']
, [73,21,73,22,'dccv']
, [74,25,74,53,'dccv']
, [75,21,75,22,'dccv']
, [76,21,76,33,'dccv']
, [80,21,80,33,'dccv']
, [84,21,84,33,'dccv']
, [88,21,88,33,'dccv']
, [92,21,92,33,'dccv']
, [96,21,96,33,'dccv']
, [100,21,100,33,'dccv']
, [104,21,104,33,'dccv']
, [108,21,108,34,'dccv']
, [112,17,112,18,'dccv']
, [66,52,66,55,'dccv']
, [66,33,66,50,'dccv']
, [113,13,113,14,'dccv']
, [118,9,118,10,'dccv']
, [126,13,126,14,'dccv']
, [127,17,127,41,'dccv']
, [128,13,128,14,'dccv']
, [130,13,130,14,'dccv']
, [131,17,131,54,'dccv']
, [132,17,132,42,'dccv']
, [133,13,133,14,'dccv']
, [142,13,142,14,'dccv']
, [143,17,143,39,'dccv']
, [144,13,144,14,'dccv']
, [146,13,146,14,'dccv']
, [148,17,148,18,'dccv']
, [149,21,149,56,'dccv']
, [151,21,151,28,'dccv']
, [151,45,151,56,'dccv']
, [151,30,151,41,'dccv']
, [152,21,152,22,'dccv']
, [153,25,153,71,'dccv']
, [154,25,154,26,'dccv']
, [155,29,155,168,'dccv']
, [156,29,156,69,'dccv']
, [157,25,157,26,'dccv']
, [158,21,158,22,'dccv']
, [151,42,151,44,'dccv']
, [159,21,159,58,'dccv']
, [160,21,160,44,'dccv']
, [161,17,161,18,'dccv']
, [166,13,166,14,'dccv']
, [175,13,175,14,'dccv']
, [176,17,176,34,'dccv']
, [177,13,177,14,'dccv']
, [186,13,186,14,'dccv']
, [187,17,187,38,'dccv']
, [188,13,188,14,'dccv']
, [190,13,190,14,'dccv']
, [191,17,191,54,'dccv']
, [192,17,192,39,'dccv']
, [193,13,193,14,'dccv']
, [202,13,202,14,'dccv']
, [203,17,203,38,'dccv']
, [204,13,204,14,'dccv']
, [206,13,206,14,'dccv']
, [207,17,207,54,'dccv']
, [208,17,208,39,'dccv']
, [209,13,209,14,'dccv']
, [218,13,218,14,'dccv']
, [219,17,219,38,'dccv']
, [220,13,220,14,'dccv']
, [222,13,222,14,'dccv']
, [223,17,223,54,'dccv']
, [224,17,224,39,'dccv']
, [225,13,225,14,'dccv']
, [234,13,234,14,'dccv']
, [235,17,235,38,'dccv']
, [236,13,236,14,'dccv']
, [238,13,238,14,'dccv']
, [239,17,239,54,'dccv']
, [240,17,240,39,'dccv']
, [241,13,241,14,'dccv']
, [250,13,250,14,'dccv']
, [251,17,251,38,'dccv']
, [252,13,252,14,'dccv']
, [254,13,254,14,'dccv']
, [255,17,255,54,'dccv']
, [256,17,256,39,'dccv']
, [257,13,257,14,'dccv']
, [266,13,266,14,'dccv']
, [267,17,267,38,'dccv']
, [268,13,268,14,'dccv']
, [282,13,282,14,'dccv']
, [283,17,283,38,'dccv']
, [284,13,284,14,'dccv']
, [298,13,298,14,'dccv']
, [299,17,299,38,'dccv']
, [300,13,300,14,'dccv']
, [314,13,314,14,'dccv']
, [315,17,315,38,'dccv']
, [316,13,316,14,'dccv']
, [330,13,330,14,'dccv']
, [331,17,331,39,'dccv']
, [332,13,332,14,'dccv']
, [346,13,346,14,'dccv']
, [347,17,347,39,'dccv']
, [348,13,348,14,'dccv']
, [361,9,361,10,'dccv']
, [363,13,363,14,'dccv']
, [364,17,364,39,'dccv']
, [365,17,365,114,'dccv']
, [366,13,366,14,'dccv']
, [371,9,371,10,'dccv']
, [379,9,379,10,'dccv']
, [380,13,380,37,'dccv']
, [381,13,381,14,'dccv']
, [382,17,382,29,'dccv']
, [385,13,385,47,'dccv']
, [386,13,386,51,'dccv']
, [387,13,387,256,'dccv']
, [389,13,389,61,'dccv']
, [390,9,390,10,'dccv']
, [397,9,397,10,'dccv']
, [398,13,398,45,'dccv']
, [399,13,399,14,'dccv']
, [400,17,400,38,'dccv']
, [401,13,401,14,'dccv']
, [402,9,402,10,'dccv']
, [416,9,416,10,'dccv']
, [417,13,417,47,'dccv']
, [418,13,418,14,'dccv']
, [419,17,419,93,'dccv']
, [420,13,420,14,'dccv']
, [421,9,421,10,'dccv']
, [77,21,77,22,'dcuc']
, [78,25,78,53,'dcuc']
, [79,21,79,22,'dcuc']
, [81,21,81,22,'dcuc']
, [82,25,82,53,'dcuc']
, [83,21,83,22,'dcuc']
, [85,21,85,22,'dcuc']
, [86,25,86,53,'dcuc']
, [87,21,87,22,'dcuc']
, [89,21,89,22,'dcuc']
, [90,25,90,53,'dcuc']
, [91,21,91,22,'dcuc']
, [93,21,93,22,'dcuc']
, [94,25,94,53,'dcuc']
, [95,21,95,22,'dcuc']
, [97,21,97,22,'dcuc']
, [98,25,98,53,'dcuc']
, [99,21,99,22,'dcuc']
, [101,21,101,22,'dcuc']
, [102,25,102,53,'dcuc']
, [103,21,103,22,'dcuc']
, [105,21,105,22,'dcuc']
, [106,25,106,54,'dcuc']
, [107,21,107,22,'dcuc']
, [109,21,109,22,'dcuc']
, [110,25,110,55,'dcuc']
, [111,21,111,22,'dcuc']
, [114,13,114,37,'dcuc']
, [115,13,115,14,'dcuc']
, [116,17,116,53,'dcuc']
, [117,13,117,14,'dcuc']
, [162,17,162,41,'dcuc']
, [163,17,163,18,'dcuc']
, [164,21,164,57,'dcuc']
, [165,17,165,18,'dcuc']
, [270,13,270,14,'dcuc']
, [271,17,271,54,'dcuc']
, [272,17,272,39,'dcuc']
, [273,13,273,14,'dcuc']
, [286,13,286,14,'dcuc']
, [287,17,287,54,'dcuc']
, [288,17,288,39,'dcuc']
, [289,13,289,14,'dcuc']
, [302,13,302,14,'dcuc']
, [303,17,303,54,'dcuc']
, [304,17,304,39,'dcuc']
, [305,13,305,14,'dcuc']
, [318,13,318,14,'dcuc']
, [319,17,319,54,'dcuc']
, [320,17,320,39,'dcuc']
, [321,13,321,14,'dcuc']
, [334,13,334,14,'dcuc']
, [335,17,335,54,'dcuc']
, [336,17,336,40,'dcuc']
, [337,13,337,14,'dcuc']
, [350,13,350,14,'dcuc']
, [351,17,351,54,'dcuc']
, [352,17,352,40,'dcuc']
, [353,13,353,14,'dcuc']
, [367,13,367,37,'dcuc']
, [368,13,368,14,'dcuc']
, [369,17,369,53,'dcuc']
, [370,13,370,14,'dcuc']
];
		</script><link rel="stylesheet" type="text/css" href="../css/coverreport.css" />
	</head><body>
		<code id="src318" class="dotCoverSource"><pre>#region

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Text;
using System.Text.RegularExpressions;
using LGP.Components.Factory;
using LGP.Components.Factory.Interfaces.Database;

#endregion

namespace LGP.Modules.PolicyEditor.Internal
{
    /// &lt;summary&gt;
    /// 
    /// &lt;/summary&gt;
    public class VisualPolicyEntry : INotifyPropertyChanged
    {
        private static readonly IGrammerGateway Ggw;
        private static readonly List&lt; string &gt; KeyValues;

        private string _entrykey;
        private bool _isSelected;
        private Regex _rule;
        private string _rvalue1;
        private string _rvalue10;
        private string _rvalue11;
        private string _rvalue2;
        private string _rvalue3;
        private string _rvalue4;
        private string _rvalue5;
        private string _rvalue6;
        private string _rvalue7;
        private string _rvalue8;
        private string _rvalue9;
        private string _strrule;

        static VisualPolicyEntry()
        {
            Ggw = Framework.Database.CreateGrammerGateway();
            KeyValues = new List&lt; string &gt;();
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public VisualPolicyEntry()
        {
            this.IsSelected = false;
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;selected&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;key&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;values&quot;&gt;&lt;/param&gt;
        public VisualPolicyEntry( bool selected , string key , params string[ ] values )
        {
            try
            {
                this.IsSelected = selected;
                this.EntryKey = key;

                for( var g = 0; g &lt; values.Length; g++ )
                {
                    if( g == 0 )
                    {
                        this._rvalue1 = values[ 0 ];
                    }
                    if( g == 1 )
                    {
                        this._rvalue2 = values[ 1 ];
                    }
                    if( g == 2 )
                    {
                        this._rvalue3 = values[ 2 ];
                    }
                    if( g == 3 )
                    {
                        this._rvalue4 = values[ 3 ];
                    }
                    if( g == 4 )
                    {
                        this._rvalue5 = values[ 4 ];
                    }
                    if( g == 5 )
                    {
                        this._rvalue6 = values[ 5 ];
                    }
                    if( g == 6 )
                    {
                        this._rvalue7 = values[ 6 ];
                    }
                    if( g == 7 )
                    {
                        this._rvalue8 = values[ 7 ];
                    }
                    if( g == 8 )
                    {
                        this._rvalue9 = values[ 8 ];
                    }
                    if( g == 9 )
                    {
                        this._rvalue10 = values[ 9 ];
                    }
                    if( g == 10 )
                    {
                        this._rvalue11 = values[ 10 ];
                    }
                }
            }
            catch( Exception error )
            {
                Framework.EventBus.Publish( error );
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public Boolean IsSelected
        {
            get
            {
                return this._isSelected;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._isSelected = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string EntryKey
        {
            get
            {
                return this._entrykey;
            }
            set
            {
                try
                {
                    var grammerlist = Ggw.GetGrammer();

                    foreach( var grammer in grammerlist )
                    {
                        if( grammer.GetKey().CompareTo( value ) == 0 )
                        {
                            this._strrule = &quot;\\s*&quot; + grammer.GetKey() + &quot;\\s*:&quot; + Framework.Utils.Base64Decode( grammer.GetValue() ).Replace( &quot;\\\\&quot; , &quot;\\&quot; ) + &quot;\\s*&quot;;
                            this.SetValidationRule( this._strrule );
                        }
                    }
                    this.OnPropertyChanged( &quot;Selected&quot; );
                    this._entrykey = value;
                }
                catch( Exception error )
                {
                    Framework.EventBus.Publish( error );
                }
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public static List&lt; string &gt; Keys
        {
            get
            {
                return KeyValues;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue1
        {
            get
            {
                return this._rvalue1;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue1 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue2
        {
            get
            {
                return this._rvalue2;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue2 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue3
        {
            get
            {
                return this._rvalue3;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue3 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue4
        {
            get
            {
                return this._rvalue4;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue4 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue5
        {
            get
            {
                return this._rvalue5;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue5 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue6
        {
            get
            {
                return this._rvalue6;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue6 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue7
        {
            get
            {
                return this._rvalue7;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue7 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue8
        {
            get
            {
                return this._rvalue8;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue8 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue9
        {
            get
            {
                return this._rvalue9;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue9 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue10
        {
            get
            {
                return this._rvalue10;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue10 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public string Rvalue11
        {
            get
            {
                return this._rvalue11;
            }
            set
            {
                this.OnPropertyChanged( &quot;Selected&quot; );
                this._rvalue11 = value;
            }
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;regex&quot;&gt;&lt;/param&gt;
        public void SetValidationRule( string regex )
        {
            try
            {
                this._strrule = regex;
                this._rule = new Regex( regex , RegexOptions.IgnorePatternWhitespace | RegexOptions.Singleline );
            }
            catch( Exception error )
            {
                Framework.EventBus.Publish( error );
            }
        }


        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        public bool Validate()
        {
            if( this._rule == null )
            {
                return true;
            }

            var builder = new StringBuilder();
            builder.Append( this.EntryKey + &quot;:&quot; );
            builder.Append( this.Rvalue1 + &quot; &quot; + this.Rvalue2 + &quot; &quot; + this.Rvalue3 + &quot; &quot; + this.Rvalue4 + &quot; &quot; + this.Rvalue5 + &quot; &quot; + this.Rvalue6 + &quot; &quot; + this.Rvalue7 + &quot; &quot; + this.Rvalue8 + &quot; &quot; + this.Rvalue9 + &quot; &quot; + this.Rvalue10 + &quot; &quot; + this.Rvalue11 );

            return this._rule.IsMatch( builder.ToString() );
        }

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;key&quot;&gt;&lt;/param&gt;
        public static void AddKey( string key )
        {
            if( !KeyValues.Contains( key ) )
            {
                KeyValues.Add( key );
            }
        }

        #region INotifyPropertyChanged

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        public event PropertyChangedEventHandler PropertyChanged;

        /// &lt;summary&gt;
        /// 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;propertyName&quot;&gt;&lt;/param&gt;
        protected void OnPropertyChanged( string propertyName )
        {
            if( this.PropertyChanged != null )
            {
                this.PropertyChanged( this , new PropertyChangedEventArgs( propertyName ) );
            }
        }

        #endregion INotifyPropertyChanged
    }
}</pre></code><script type="text/javascript">
			applyranges('src318', RANGES_318)
		</script>
	</body>
</html>